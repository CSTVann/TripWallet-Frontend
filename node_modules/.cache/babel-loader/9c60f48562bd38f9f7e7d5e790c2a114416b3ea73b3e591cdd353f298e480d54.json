{"ast":null,"code":"import React,{useState,useEffect,useContext,createContext}from'react';import Select from'react-select';import{useNavigate}from'react-router-dom';import $ from'jquery';// import { useAnalyzerFilter } from './analyzer_filter';\nimport'../css/budget_analyzer.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CONFIG=require('../conf.json');const BudgetAnalyzer=()=>{const navigate=useNavigate();const[selectCategories,setSelectCategories]=useState([]);const[selectLocations,setSelectLocations]=useState([]);const[categories,setCategories]=useState([]);const[locations,setLocations]=useState([]);const[minBudget,setMinBudget]=useState(0.00);const[maxBudget,setMaxBudget]=useState(0.00);function getLocations(){$.ajax({url:\"\".concat(CONFIG.ip,\":\").concat(CONFIG.port,\"/province/selection\"),type:'GET',dataType:'json',success:function(response){// Update state with fetched data\nsetSelectLocations(response.provinces);// if (response) console.log(response.provinces)\n},error:function(error){console.error('Error:',error);}});}function getCategories(){$.ajax({url:\"\".concat(CONFIG.ip,\":\").concat(CONFIG.port,\"/category/selection\"),type:'GET',dataType:'json',success:function(response){// Update state with fetched data\nsetSelectCategories(response.categories);// if (response) console.log(response.categories)\n},error:function(error){console.error('Error:',error);}});}const onChangeSelectCategory=e=>{setCategories([e.value,e.label]);};const onChangeSelectLocation=e=>{setLocations([e.value,e.label]);};const onChangeMinBudget=e=>{setMinBudget(parseFloat(e.target.value));};const onChangeMaxBudget=e=>{setMaxBudget(parseFloat(e.target.value));};const handleAnalysis=e=>{e.preventDefault();localStorage.setItem('filter',JSON.stringify({\"categories\":categories,\"locations\":locations,\"minBudget\":minBudget,\"maxBudget\":maxBudget}));window.location.reload();};const handleReset=e=>{e.preventDefault();localStorage.setItem('filter',JSON.stringify({\"categories\":[],\"locations\":[],\"minBudget\":0.00,\"maxBudget\":0.00}));window.location.reload();};// Use useEffect to call the function when the component mounts\nuseEffect(()=>{getCategories();getLocations();},[]);return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"budget-analysis-container\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"main-caption\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Budget Analysis\"})})}),/*#__PURE__*/_jsxs(\"form\",{className:\"nest-form\",onSubmit:handleAnalysis,children:[/*#__PURE__*/_jsx(\"div\",{className:\"row form-category\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputPassword4\",children:\"Location\"}),/*#__PURE__*/_jsx(Select,{options:selectLocations,onChange:onChangeSelectLocation,placeholder:\"Phnom Penh, Kompot...\",required:true})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row form-budget\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputEmail4\",children:\"Min-Budget ($)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input-input\",min:\"0\",type:\"number\",value:minBudget,onChange:onChangeMinBudget,placeholder:\"Mininum Budget...\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputEmail4\",children:\"Max-Budget ($)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input-input\",min:\"0\",type:\"number\",value:maxBudget,onChange:onChangeMaxBudget,placeholder:\"Maxinum Budget...\",required:true})})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"span-analysis-button\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary analysis-button\",children:\"Analysis\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"span-analysis-button\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleReset,children:\"Reset\"})})]})]})});};export default BudgetAnalyzer;","map":{"version":3,"names":["React","useState","useEffect","useContext","createContext","Select","useNavigate","$","jsx","_jsx","jsxs","_jsxs","CONFIG","require","BudgetAnalyzer","navigate","selectCategories","setSelectCategories","selectLocations","setSelectLocations","categories","setCategories","locations","setLocations","minBudget","setMinBudget","maxBudget","setMaxBudget","getLocations","ajax","url","concat","ip","port","type","dataType","success","response","provinces","error","console","getCategories","onChangeSelectCategory","e","value","label","onChangeSelectLocation","onChangeMinBudget","parseFloat","target","onChangeMaxBudget","handleAnalysis","preventDefault","localStorage","setItem","JSON","stringify","window","location","reload","handleReset","children","className","onSubmit","htmlFor","options","onChange","placeholder","required","min","onClick"],"sources":["/Users/chhornsotheavann/Documents/TripWallet-Frontend/src/component/budget_anlyzer.js"],"sourcesContent":["import React, { useState, useEffect, useContext, createContext } from 'react';\nimport Select from 'react-select'\nimport { useNavigate } from 'react-router-dom';\n\nimport $ from 'jquery'\n\n// import { useAnalyzerFilter } from './analyzer_filter';\nimport '../css/budget_analyzer.css';\n\nvar CONFIG = require('../conf.json')\n\nconst BudgetAnalyzer = () => {\n    const navigate = useNavigate()\n\n    const [selectCategories, setSelectCategories] = useState([]);\n    const [selectLocations, setSelectLocations] = useState([]);\n\n    const [categories, setCategories] = useState([]);\n    const [locations, setLocations] = useState([]);\n    const [minBudget, setMinBudget] = useState(0.00);\n    const [maxBudget, setMaxBudget] = useState(0.00);\n    \n\n    function getLocations() {\n        $.ajax({\n            url: `${CONFIG.ip}:${CONFIG.port}/province/selection`,\n            type: 'GET',\n            dataType: 'json',\n            success: function (response) {\n                // Update state with fetched data\n                setSelectLocations(response.provinces);\n                // if (response) console.log(response.provinces)\n            },\n            error: function (error) {\n                console.error('Error:', error);\n            },\n        });\n    }\n    function getCategories() {\n        $.ajax({\n            url: `${CONFIG.ip}:${CONFIG.port}/category/selection`,\n            type: 'GET',\n            dataType: 'json',\n            success: function (response) {\n                // Update state with fetched data\n                setSelectCategories(response.categories);\n                // if (response) console.log(response.categories)\n            },\n            error: function (error) {\n                console.error('Error:', error);\n            },\n        });\n    }\n\n    const onChangeSelectCategory = (e) => {\n        setCategories([e.value, e.label]);\n    };\n    const onChangeSelectLocation = (e) => {\n        setLocations([e.value, e.label]);\n    };\n    const onChangeMinBudget = (e) => {\n        setMinBudget(parseFloat(e.target.value))\n    };\n    const onChangeMaxBudget = (e) => {\n        setMaxBudget(parseFloat(e.target.value))\n    };\n\n    const handleAnalysis = (e) => {\n        e.preventDefault();\n        localStorage.setItem('filter', JSON.stringify({\n            \"categories\": categories,\n            \"locations\": locations,\n            \"minBudget\": minBudget,\n            \"maxBudget\": maxBudget\n        }));\n        window.location.reload();\n\n    }\n    const handleReset = (e) => {\n        e.preventDefault();\n        localStorage.setItem('filter', JSON.stringify({\n            \"categories\": [],\n            \"locations\": [],\n            \"minBudget\": 0.00,\n            \"maxBudget\": 0.00\n        }));\n        window.location.reload();\n\n    }\n    \n    // Use useEffect to call the function when the component mounts\n    useEffect(() => {\n        getCategories();\n        getLocations();\n    }, []);\n\n    return (\n        <section>\n            <div className=\"budget-analysis-container\">\n                <div>\n                    <h4 className=\"main-caption\"><b>Budget Analysis</b></h4>\n                </div>\n                <form className=\"nest-form\" onSubmit={handleAnalysis}>\n                    <div className=\"row form-category\">\n\n                        {/* <div className=\"form-group col-md-6\">\n                            <label htmlFor=\"inputEmail4\">Category</label>\n                            <Select options={selectCategories} onChange={onChangeSelectCategory} placeholder=\"Breaches, Mountains...\" required />\n                        </div> */}\n                        <div className=\"form-group col-md-12\">\n                            <label htmlFor=\"inputPassword4\">Location</label>\n                            <Select options={selectLocations} onChange={onChangeSelectLocation} placeholder=\"Phnom Penh, Kompot...\" required/>\n                        </div>\n                        \n                    </div>\n                    <div className=\"row form-budget\">\n\n                        <div className=\"form-group col-md-6\">\n                            <label htmlFor=\"inputEmail4\">Min-Budget ($)</label>\n                            <div className=\"input-container\">\n                                <input className=\"input-input\" min=\"0\" type=\"number\" value={minBudget} onChange={onChangeMinBudget} placeholder=\"Mininum Budget...\"/>\n                            </div>\n                        </div>\n                        <div className=\"form-group col-md-6\">\n                            <label htmlFor=\"inputEmail4\">Max-Budget ($)</label>\n                            <div className=\"input-container\">\n                                <input className=\"input-input\" min=\"0\" type=\"number\" value={maxBudget} onChange={onChangeMaxBudget} placeholder=\"Maxinum Budget...\" required />\n                            </div>\n                        </div>\n                        \n                    </div>\n                    \n                    <span className='span-analysis-button'>\n                        <button type=\"submit\" className=\"btn btn-primary analysis-button\">\n                            Analysis\n                        </button>\n                    </span>\n                    <span className='span-analysis-button'>\n                        <button type=\"button\" className=\"btn btn-secondary\" onClick={handleReset}>\n                            Reset\n                        </button>\n                    </span>\n                </form>\n\n            </div>\n        </section>\n    );\n};\n\nexport default BudgetAnalyzer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}