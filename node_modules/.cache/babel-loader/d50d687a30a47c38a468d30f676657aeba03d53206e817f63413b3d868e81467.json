{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLogin}from'../js/LoginHandler';import login_bg from'../img/login_bg.png';import{useNavigate}from'react-router-dom';import $ from'jquery';import'../css/Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginHandling=()=>{const navigate=useNavigate();const{isLoggedIn,isAdmin,userName,login,logout}=useLogin();const handleLogin=async e=>{e.preventDefault();var response=await login(email,password);if(isLoggedIn){navigate('/');}else{setWrongLogin(true);}};const[email,setEmail]=useState('');const[password,setPassword]=useState('');const handleEmailChange=e=>setEmail(e.target.value);const handlePasswordChange=e=>setPassword(e.target.value);const[isPasswordVisible,setIsPasswordVisible]=useState(false);const[isWrongLogin,setWrongLogin]=useState(false);const togglePasswordVisibility=()=>{setIsPasswordVisible(!isPasswordVisible);};useEffect(()=>{if(isLoggedIn)navigate('/');},[isLoggedIn,isAdmin]);return/*#__PURE__*/_jsx(\"body\",{className:\"body-login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginlogin\",children:[/*#__PURE__*/_jsx(\"img\",{src:login_bg,alt:\"login image\",className:\"login_img\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"login__formlogin\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login__title\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login__box\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-user-3-line login__icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__box-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,className:\"login__input input-login\",id:\"login-email\",onChange:handleEmailChange,value:email,placeholder:\" \"}),/*#__PURE__*/_jsx(\"label\",{for:\"login-email\",className:\"login__label\",children:\"Email\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__box\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-lock-2-line login__icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__box-input\",children:[/*#__PURE__*/_jsx(\"input\",{required:true,type:isPasswordVisible?'text':'password',className:\"login__input input-login\",id:\"login-pass\",onChange:handlePasswordChange,value:password,placeholder:\" \"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"login-pass\",className:\"login__label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"i\",{className:\"ri-\".concat(isPasswordVisible?'eye-line':'eye-off-line',\" login__eye\"),onClick:togglePasswordVisibility})]})]})]}),isWrongLogin&&/*#__PURE__*/_jsx(\"div\",{children:\"Wrong Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__check\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login__check-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"login__check-input input-login\",id:\"login-check\"}),/*#__PURE__*/_jsx(\"label\",{for:\"login-check\",className:\"login__check-label\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"login__forgotlogin\",children:\"Forgot Password?\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login__buttonlogin button-login\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"login__registerlogin\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",className:\"a\",children:\"Register\"})]})]})]})});};const Login=()=>{return/*#__PURE__*/_jsx(LoginHandling,{});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useLogin","login_bg","useNavigate","$","jsx","_jsx","jsxs","_jsxs","LoginHandling","navigate","isLoggedIn","isAdmin","userName","login","logout","handleLogin","e","preventDefault","response","email","password","setWrongLogin","setEmail","setPassword","handleEmailChange","target","value","handlePasswordChange","isPasswordVisible","setIsPasswordVisible","isWrongLogin","togglePasswordVisibility","className","children","src","alt","onSubmit","type","required","id","onChange","placeholder","for","htmlFor","concat","onClick","href","Login"],"sources":["/Users/sotheavann/Documents/Project/src/component/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLogin } from '../js/LoginHandler';\n\nimport login_bg from '../img/login_bg.png'\nimport { useNavigate } from 'react-router-dom';\n\nimport $ from 'jquery'\n\n\nimport '../css/Login.css'\n\n\n\nconst LoginHandling = () => {\n    const navigate = useNavigate();\n\n    const {isLoggedIn, isAdmin, userName, login, logout} = useLogin();\n\n    const handleLogin = async (e) => {\n        e.preventDefault();\n\n        var response = await login(email, password);\n\n        if (isLoggedIn) {\n          navigate('/')\n        } else {\n          setWrongLogin(true)\n        }\n\n    };\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const handleEmailChange = (e) => setEmail(e.target.value);\n    const handlePasswordChange = (e) => setPassword(e.target.value);\n\n    const [isPasswordVisible, setIsPasswordVisible] = useState(false);\n    const [isWrongLogin, setWrongLogin] = useState(false);\n\n    const togglePasswordVisibility = () => {\n      setIsPasswordVisible(!isPasswordVisible);\n    };\n\n    useEffect(() => {\n        if (isLoggedIn) navigate('/')\n    }, [isLoggedIn, isAdmin]);\n\n\n    return (\n      <body className='body-login'>\n        <div className=\"loginlogin\">\n          <img src={login_bg} alt=\"login image\" className=\"login_img\" />\n\n          <form onSubmit={handleLogin} className=\"login__formlogin\">\n              <h1 className=\"login__title\">Login</h1>\n\n              <div className=\"login__content\">\n                <div className=\"login__box\">\n                    <i className=\"ri-user-3-line login__icon\"></i>\n\n                    <div className=\"login__box-input\">\n                      <input \n                        type=\"email\" \n                        required \n                        className=\"login__input input-login\" \n                        id=\"login-email\" \n                        onChange={handleEmailChange}\n                        value={email} \n                        placeholder=\" \" />\n                      <label for=\"login-email\" className=\"login__label\">Email</label>\n                    </div>\n                </div>\n\n                <div className=\"login__box\">\n                    <i className=\"ri-lock-2-line login__icon\"></i>\n\n                    <div className=\"login__box-input\">\n                    <input\n                      required\n                      type={isPasswordVisible ? 'text' : 'password'}\n                      className=\"login__input input-login\"\n                      id=\"login-pass\"\n                      onChange={handlePasswordChange}\n                      value={password}\n                      placeholder=\" \"\n                    />\n                    <label htmlFor=\"login-pass\" className=\"login__label\">\n                      Password\n                    </label>\n                    <i\n                        className={`ri-${isPasswordVisible ? 'eye-line' : 'eye-off-line'} login__eye`}\n                        onClick={togglePasswordVisibility}\n                      ></i>\n                  </div>\n                </div>\n              </div>\n\n              {isWrongLogin && (\n                <div>\n                  Wrong Password\n                </div>\n              )}\n\n              <div className=\"login__check\">\n                <div className=\"login__check-group\">\n                    <input type=\"checkbox\" className=\"login__check-input input-login\" id=\"login-check\" />\n                    <label for=\"login-check\" className=\"login__check-label\">Remember me</label>\n                </div>\n\n                <a href=\"#\" className=\"login__forgotlogin\">Forgot Password?</a>\n              </div>\n\n              <button type=\"submit\" className=\"login__buttonlogin button-login\">Login</button>\n\n              <p className=\"login__registerlogin\">\n                Don't have an account? <a href='/register' className='a'>Register</a>\n              </p>\n          </form>\n        </div>\n      </body>\n      );\n    \n}\n\nconst Login = () => {\n  return (\n      <LoginHandling />\n  );\n};\n\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}