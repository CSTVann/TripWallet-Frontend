{"ast":null,"code":"import{Form,Link,useLocation,useNavigate}from'react-router-dom';import Dropdown from'react-bootstrap/Dropdown';import{useLogin}from'../js/LoginHandler';import'../css/menu.css';import Profile from'./profile';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Menu(){const location=useLocation();const navigate=useNavigate();var storedUser=JSON.parse(localStorage.getItem('user'));var storedIsLoggedIn=false;var storedIsAdmin=false;const[buttonProfile,setProfile]=useState(true);if(storedUser.email||storedUser.name){storedIsLoggedIn=true;if(storedUser.is_admin)storedIsAdmin=true;}const{isLoggedIn,isAdmin,userName,login,logout}=useLogin();// Function to determine if a menu item is active\nconst isMenuActive=menuName=>{return location.pathname===\"/\".concat(menuName);};const handleLogout=async e=>{e.preventDefault();logout();navigate('/');};return/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light border-header\",id:\"dynamic-nav\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid menu-container\",children:[isAdmin||storedIsAdmin?/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"navbar-brand\",href:\"#\",children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"span-h1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Trip\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Wallet\"})]})})})}):/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",href:\"#\",children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"span-h1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Trip\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Wallet\"})]})})})}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarSupportedContent\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-link \".concat(isMenuActive('')?'active-menu':''),\"aria-current\":\"page\",children:/*#__PURE__*/_jsx(\"span\",{className:\"menuitem \".concat(isMenuActive('')?'active-menu-span':''),\"data-menu-name\":\"home\",children:\"Home\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/budget_analysis\",className:\"nav-link \".concat(isMenuActive('budget_analysis')?'active-menu':''),\"aria-current\":\"page\",children:/*#__PURE__*/_jsx(\"span\",{className:\"menuitem \".concat(isMenuActive('budget_analysis')?'active-menu-span':''),\"data-menu-name\":\"budget_analysis\",children:\"Budget Analysis\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/recommendation\",className:\"nav-link \".concat(isMenuActive('recommendation')?'active-menu':''),\"aria-current\":\"page\",children:/*#__PURE__*/_jsx(\"span\",{className:\"menuitem \".concat(isMenuActive('recommendation')?'active-menu-span':''),\"data-menu-name\":\"recommendation\",children:\"Recommendations\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \".concat(!isLoggedIn?'nav-LOGIN-REGISTER':'nav-LOGGED-IN'),children:isLoggedIn||storedIsLoggedIn?/*#__PURE__*/_jsxs(Dropdown,{style:{backgroundColor:'black'},children:[/*#__PURE__*/_jsxs(Dropdown.Toggle,{variant:\"success\",id:\"user-dropdown\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user\",style:{marginRight:'5px'}}),\" \",userName||storedUser.name]}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[/*#__PURE__*/_jsx(Profile,{trigger:buttonProfile,setTrigger:setProfile}),/*#__PURE__*/_jsx(Dropdown.Divider,{}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:handleLogout,className:\"nest-profile-logout\",children:\"Logout\"})]})]}):/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",\"aria-current\":\"page\",children:/*#__PURE__*/_jsx(\"span\",{className:\"login\",children:\"Login / Register\"})})})]})})]})})});}export default Menu;","map":{"version":3,"names":["Form","Link","useLocation","useNavigate","Dropdown","useLogin","Profile","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Menu","location","navigate","storedUser","JSON","parse","localStorage","getItem","storedIsLoggedIn","storedIsAdmin","buttonProfile","setProfile","email","name","is_admin","isLoggedIn","isAdmin","userName","login","logout","isMenuActive","menuName","pathname","concat","handleLogout","e","preventDefault","children","className","id","to","href","type","style","backgroundColor","Toggle","variant","marginRight","trigger","setTrigger","Divider","Item","onClick"],"sources":["/Users/sotheavann/Documents/Project/src/component/menu.js"],"sourcesContent":["import { Form, Link, useLocation, useNavigate } from 'react-router-dom';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { useLogin } from '../js/LoginHandler';\nimport '../css/menu.css';\nimport Profile from './profile';\nimport { useState, useEffect } from 'react';\n\n\nfunction Menu() {\n    const location = useLocation();\n    const navigate = useNavigate();\n    var storedUser = JSON.parse(localStorage.getItem('user'))\n    var storedIsLoggedIn = false;\n    var storedIsAdmin = false;\n\n\n    const [buttonProfile, setProfile] = useState(true);\n\n    if (storedUser.email || storedUser.name) {\n        storedIsLoggedIn = true;\n        if (storedUser.is_admin) storedIsAdmin = true\n    }\n\n    const {isLoggedIn, isAdmin, userName, login, logout} = useLogin();\n    \n    // Function to determine if a menu item is active\n    const isMenuActive = (menuName) => {\n      return location.pathname === `/${menuName}`;\n    };\n\n    const handleLogout = async (e) => {\n        e.preventDefault();\n        logout();\n        navigate('/')\n    }\n\n    \n    return (\n        <header>\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light border-header\" id=\"dynamic-nav\">\n                <div className=\"container-fluid menu-container\">\n                    {isAdmin || storedIsAdmin ? (\n                        <Link to=\"/admin\" className=\"navbar-brand\" href=\"#\"><b>\n                            <span>\n                                <span className='span-h1'> \n                                    <span>Trip</span> <span>Wallet</span>\n                                </span>\n                            </span>\n                        </b></Link>\n                    ) : (\n                        <Link to=\"/\" className=\"navbar-brand\" href=\"#\"><b>\n                            <span>\n                                <span className='span-h1'>\n                                    <span>Trip</span> <span>Wallet</span>\n                                </span>\n                            </span>\n                        </b></Link>\n                    )}\n                    <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n                    <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                        <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\n                            <li className=\"nav-item\">\n                                <Link to=\"/\" className={`nav-link ${isMenuActive('') ? 'active-menu' : ''}`} aria-current=\"page\">\n                                    <span className={`menuitem ${isMenuActive('') ? 'active-menu-span' : ''}`} data-menu-name=\"home\">Home</span>\n                                </Link>\n                            </li>\n                            <li className=\"nav-item\">\n                                <Link to=\"/budget_analysis\" className={`nav-link ${isMenuActive('budget_analysis') ? 'active-menu' : ''}`} aria-current=\"page\">\n                                    <span className={`menuitem ${isMenuActive('budget_analysis') ? 'active-menu-span' : ''}`} data-menu-name=\"budget_analysis\">Budget Analysis</span>\n                                </Link>\n                            </li>\n                            <li className=\"nav-item\">\n                                <Link to=\"/recommendation\" className={`nav-link ${isMenuActive('recommendation') ? 'active-menu' : ''}`} aria-current=\"page\">\n                                    <span className={`menuitem ${isMenuActive('recommendation') ? 'active-menu-span' : ''}`} data-menu-name=\"recommendation\">Recommendations</span>\n                                </Link>\n                            </li>\n                            <li className={`nav-item ${!isLoggedIn ? 'nav-LOGIN-REGISTER' : 'nav-LOGGED-IN'}`}>\n                                {isLoggedIn || storedIsLoggedIn ? (\n                                        <Dropdown style={{ backgroundColor: 'black' }}>\n                                            <Dropdown.Toggle variant=\"success\" id=\"user-dropdown\">\n                                                <i className=\"fa fa-user\" style={{ marginRight: '5px' }} /> {userName || storedUser.name}\n                                            </Dropdown.Toggle>\n                                            <Dropdown.Menu>\n                                                {/* Add dropdown menu items here */}\n                                                <Profile trigger={buttonProfile} setTrigger={setProfile}></Profile>\n                                                <Dropdown.Divider />\n                                                <Dropdown.Item onClick={handleLogout} className='nest-profile-logout'>Logout</Dropdown.Item>\n                                            </Dropdown.Menu>\n                                        </Dropdown>\n                                    ) : (\n                                        <Link to=\"/login\" className=\"nav-link\" aria-current=\"page\">\n                                            <span className=\"login\">Login / Register</span>\n                                        </Link>\n                                    )\n                                }\n                                \n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n        </header>\n    );\n}\n\nexport default Menu;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}